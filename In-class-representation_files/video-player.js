(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["video-player"],{"0551":function(e,t,r){},"26ee":function(e,t,r){"use strict";var n=r("5ea3"),i="object"==typeof self&&self&&self.Object===Object&&self,a=n["a"]||i||Function("return this")();t["a"]=a},"2f74":function(e,t,r){"use strict";function n(){return!1}t["a"]=n},"3b93":function(e,t,r){"use strict";var n=r("bab2"),i=r.n(n);i.a},"3be5":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"video-player",class:e.videoPlayerCls},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowSharePanel(),expression:"shouldShowSharePanel()"}],ref:"playerShareWrapper",staticClass:"player-panel-l"},[r("div",{staticClass:"player-share",style:e.playerShareStyl},[e.shareMp4Url?r("video",{ref:"sharePlayer",staticClass:"video-js"}):e._e()])]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.shareStart&&e.shareMp4Url,expression:"shareStart && shareMp4Url"}],staticClass:"draggable"},[r("div",{staticClass:"bar",on:{mousedown:e.onMouseDown}})]),r("div",{ref:"panelR",staticClass:"player-panel-r",style:e.panelRStyl},[r("div",{ref:"playerViewWrapper",staticClass:"player-view-wrapper",style:e.playerViewWrapperStyl},[r("div",{staticClass:"player-view",style:e.playerViewStyl,on:{contextmenu:function(e){e.preventDefault()}}},[r("video",{ref:"player",staticClass:"video-js"},[e.chapterUrl?r("track",{attrs:{src:e.chapterUrl,kind:"chapters"}}):e._e(),e.ccUrl?r("track",{attrs:{id:"cc_track",src:e.ccUrl,kind:"captions",language:"en"}}):e._e(),e.transcriptUrl?r("track",{attrs:{id:"transcript_track",src:e.transcriptUrl,kind:"captions",language:"en"}}):e._e()])])]),e.hasTranscript||e.hasChat?r("div",{staticClass:"transcript-wrapper",on:{contextmenu:function(e){e.stopPropagation()}}},[e.playerReady?r("transcript",{attrs:{player:e.player}}):e._e()],1):e._e()])])},i=[],a=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),o=(r("30e2"),r("d721"),r("d225")),s=r("b0b4"),c=r("308d"),l=r("6bb5"),u=r("4e2b"),h=r("f0e2"),p=r("e3e2"),f=r("2f62"),d=r("c592"),y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"zm-fade-in"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"},{name:"clickoutside",rawName:"v-clickoutside",value:e.handleOutsideClick,expression:"handleOutsideClick"}],staticClass:"vjs-pop-marker",attrs:{role:"tooltip","aria-label":e.content}},[r("div",{staticClass:"content"},[r("span",[e._v(e._s(e.content))])]),r("div",{staticClass:"time"},[r("span",[e._v(e._s(e.formattedTime))])])])])},v=[],b=r("2cf8"),m=r("4b94"),g=r("8b55");function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P={name:"vjs-marker-tip",mixins:[b["a"]],directives:{Clickoutside:m["a"]},props:{content:String,time:Number,reference:String},computed:O({formattedTime:function(){return Object(g["d"])(this.time)}},Object(f["e"])(["popMenuShow"])),mounted:function(){this.popperElm=this.$el,this.referenceElm=this.$parent.$refs[this.reference]},methods:O({show:function(){this.showPopper||(this.showPopper=!0,this.$emit("show"))},hide:function(){this.showPopper&&(this.showPopper=!1,this.$emit("hide"))},handleOutsideClick:function(){this.hide()}},Object(f["d"])({setPopMarkerShow:"SET_POP_MARKER_SHOW"})),watch:{showPopper:function(e){this.setPopMarkerShow(e)},popMenuShow:function(e){e&&this.hide()}}},w=P,k=(r("4a77"),r("2877")),M=Object(k["a"])(w,y,v,!1,null,"6c119804",null),C=M.exports;function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _={components:{VjsPopMarker:C},computed:x({},Object(f["e"])(["popMenuShow"])),methods:{onMouseEnter:function(){this.popMenuShow||this.showPopMarker()},onMouseLeave:function(){this.hidePopMarker()},onFocus:function(){this.showPopMarker()},showPopMarker:function(){this.$refs.popMarker&&this.$refs.popMarker.show()},hidePopMarker:function(){this.$refs.popMarker&&this.$refs.popMarker.hide()},getMarkerStyl:function(e){var t=parseInt((e.startTime-this.offsetStart)/this.duration*1e4)/100;return{left:t+"%"}}}},E=r("bd41"),T=r("f5ea");function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A={name:"vjs-share-marker",mixins:[d["a"],_],props:{cue:Object,player:Object,activePlayer:Object},data:function(){return{offset:"0, 11px"}},computed:D({duration:function(){return this.player.duration()},ariaLabel:function(){return this.cue.text+","+Object(T["a"])(this.cue.startTime-this.offsetStart)}},Object(f["e"])(["offsetStart"])),render:function(){var e=arguments[0];return e("div",{class:"vjs-share-marker",style:this.getMarkerStyl(this.cue)},[e("span",{class:"vjs-share-marker-button",attrs:{role:"button","aria-label":this.ariaLabel,tabIndex:0},on:{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,keydown:this.onKeyDown,focus:this.onFocus},ref:"button"}),e("vjs-pop-marker",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,content:this.cue.text,time:this.cue.startTime-this.offsetStart,reference:"button"},ref:"popMarker"})])},methods:{onKeyDown:function(e){var t=e.keyCode,r=E["a"].keys;t===r.enter||t===r.space?(this.changeToCurrent(),e.preventDefault()):t!==r.tab&&t!==r.esc||(this.hidePopMarker(),t===r.esc&&e.preventDefault()),e.stopPropagation()},changeToCurrent:function(){Object(T["b"])("Position moved to Share Marker "+Object(T["a"])(this.cue.startTime-this.offsetStart)),this.player.realCurrentTime(this.cue.startTime)}}},I=r("422e"),B=r("d3a4");function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=window.Vue,U=h["default"].getPlugin("plugin"),z=function(e){function t(e,r){var n;return Object(o["a"])(this,t),n=Object(c["a"])(this,Object(l["a"])(t).call(this,e,r)),n.player=e,r.sharePlayer?(n.sharePlayer=r.sharePlayer,n.pollingCreateMarker(),n):Object(c["a"])(n)}return Object(u["a"])(t,e),Object(s["a"])(t,[{key:"pollingCreateMarker",value:function(){var e=this.player,t=this;function r(){var n=t.getChapterTrack();n?Object(B["a"])().then((function(){t.createMarker(n,e),t.checkCueState(n),t.bindEvents(n)})):setTimeout(r,500)}r()}},{key:"getChapterTrack",value:function(){for(var e=this.player.textTracks(),t=0;t<e.length;t++){var r=e[t];if("chapters"===r.kind&&r.cues)return r}}},{key:"createMarker",value:function(e,t){var r=e.cues,n=this.sharePlayer,i=new L({store:p["a"],render:function(e){return e(F,{props:{player:t,sharePlayer:n,cues:[].slice.call(r)}})}});i.$mount(),t.controlBar.progressControl.contentEl().appendChild(i.$el)}},{key:"checkCueState",value:function(e){var t=e.activeCues[0];!t||"Sharing Chapter"!==t.text.trim()&&"Sharing Started"!==t.text.trim()?this.player.trigger("share-start",!1):this.player.trigger("share-start",!0)}},{key:"bindEvents",value:function(e){var t=this;e.addEventListener("cuechange",(function(){t.checkCueState(e)}))}}]),t}(U);h["default"].registerPlugin("shareMarker",z);var F={mixins:[I["a"]],components:{VjsShareMarker:A},props:{cues:{type:Array,default:function(){return[]}}},computed:R({duration:function(){return this.player.duration()}},Object(f["e"])(["offsetStart"])),render:function(){var e=arguments[0];return e("div",{class:"vjs-share-markers-bar"},[this.renderMakers()])},methods:{renderMakers:function(){var e=this,t=this.$createElement;return this.cues.filter((function(t){var r=t.startTime-e.offsetStart;return!("Recording Started"===t.text.trim()||r<=0||r>e.duration)})).map((function(r,n){return t("vjs-share-marker",{attrs:{cue:r,player:e.player,"active-player":e.activePlayer},key:r.startTime+"/"+n})}))}}},V=(r("f063"),r("7514"),r("4f0e")),H=r("d38d"),q=r("f33f");function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var G=window.Vue,J=h["default"].getPlugin("plugin"),X=function(e){function t(e,r){var n;return Object(o["a"])(this,t),n=Object(c["a"])(this,Object(l["a"])(t).call(this,e,r)),n.sharePlayer=r.sharePlayer,n.createModelControl(e),n}return Object(u["a"])(t,e),Object(s["a"])(t,[{key:"createModelControl",value:function(e){var t=this;Object(B["a"])().then((function(r){var n=t.sharePlayer,i=new G({store:p["a"],i18n:r,render:function(t){return t(Q,{props:{player:e,sharePlayer:n}})}});i.$mount(),e.extendControl().addChild(i.$el)}))}}]),t}(J);h["default"].registerPlugin("playbackModel",X);var Q={mixins:[I["a"],H["a"],d["a"],q["a"]],components:{VjsPopMenu:V["a"]},data:function(){return{menuItems:[{val:"AS",text:this.$t("speaker_view")},{val:"GV",text:this.$t("gallery_view")}]}},computed:K({selectedItem:function(){var e=this;return this.menuItems.find((function(t){return t.val===e.playbackModel}))}},Object(f["e"])(["gallaryMp4Url","viewMp4Url","playbackModel"])),render:function(){var e=arguments[0];return e("div",{class:"vjs-playback-model-control",directives:[{name:"show",value:this.gallaryMp4Url}]},[e("button",{class:"vjs-playback-model-control-button vjs-control",on:{click:this.onControlClick,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,keydown:this.onKeyDown},attrs:{"aria-haspopup":!0,"aria-label":"Playback Model","aria-expanded":this.getExpandState(),"aria-activedescendant":this.activedescendant,"aria-controls":this.getMenuId()}},[e("span",{attrs:{"arial-hidden":"true"},class:"vjs-icon-placeholder"})]),e("vjs-pop-menu",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,player:this.activePlayer,"menu-items":this.menuItems,"selected-item":this.selectedItem,"hover-index":this.hoverIndex},ref:"popMenu",on:{selected:this.handleCommand,hide:this.resetHoverIndex}}),e("vjs-pop-title",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,title:this.$t("switch_view")},ref:"popTitle"})])},methods:K({onControlClick:function(){this.$refs.popMenu.show(),this.$refs.popTitle.hide()},handleCommand:function(e){this.setPlaybackModel(e.val);var t=this.player,r=t.currentTime(),n=document.activeElement;"GV"===e.val?t.src(this.gallaryMp4Url):t.src(this.viewMp4Url),t.one("canplay",(function(){t.currentTime(r),t.play(),n.focus()}))}},Object(f["b"])(["setPlaybackModel"]))},Y=window.Vue,Z=h["default"].getPlugin("plugin"),ee=function(e){function t(e,r){var n;return Object(o["a"])(this,t),n=Object(c["a"])(this,Object(l["a"])(t).call(this,e,r)),n.sharePlayer=r.sharePlayer,n.createComp(e),n}return Object(u["a"])(t,e),Object(s["a"])(t,[{key:"createComp",value:function(e){var t=this;Object(B["a"])().then((function(r){var n=t.sharePlayer,i=new Y({store:p["a"],i18n:r,render:function(t){return t(te,{props:{player:e,sharePlayer:n}})}});i.$mount(),e.extendControl().addChild(i.$el)}))}}]),t}(Z);h["default"].registerPlugin("fullscreenToggle",ee);var te={mixins:[I["a"],H["a"],d["a"]],data:function(){return{fullScreen:!1}},computed:{wrapperCls:function(){var e=["vjs-fullscreen-toggle-control"];return this.fullScreen?e.push("fullscreen-exit"):e.push("fullscreen-enter"),e.join(" ")},controlText:function(){return this.fullScreen?"Exit Full Screen":"Enter Full Screen"}},render:function(){var e=arguments[0];return e("div",{class:this.wrapperCls},[e("button",{class:"vjs-fullscreen-toggle-control-button vjs-control",attrs:{"aria-label":this.controlText},on:{click:this.onControlClick,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,keydown:this.onKeyDown}},[e("span",{attrs:{"arial-hidden":"true"},class:"vjs-icon-placeholder"})]),e("vjs-pop-title",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,title:this.getTitle()},ref:"popTitle"})])},mounted:function(){var e=this,t=this.player,r=this.sharePlayer;t.on("fullscreenchange",(function(){e.handleFullscreenChange(t)})),r&&r.on("fullscreenchange",(function(){e.handleFullscreenChange(r)}))},methods:{handleFullscreenChange:function(e){var t=this;setTimeout((function(){t.fullScreen=e.isFullscreen()}),0)},onControlClick:function(){this.fullScreen?this.activePlayer.exitFullscreen():this.activePlayer.requestFullscreen()},onKeyDown:function(e){var t=e.keyCode,r=E["a"].keys;t===r.enter&&this.onControlClick()},getTitle:function(){return this.fullScreen?this.player.localize("Non-Fullscreen"):this.player.localize("Fullscreen")}}},re=(r("3247"),r("3e2c"));function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae=window.Vue,oe=h["default"].getPlugin("plugin"),se=function(e){function t(e,r){var n;return Object(o["a"])(this,t),n=Object(c["a"])(this,Object(l["a"])(t).call(this,e,r)),n.sharePlayer=r.sharePlayer,n.createCaptionsControl(e),n.bindEvents(),n}return Object(u["a"])(t,e),Object(s["a"])(t,[{key:"createCaptionsControl",value:function(e){var t=this;Object(B["a"])().then((function(r){var n=t.sharePlayer,i=new ae({store:p["a"],i18n:r,render:function(t){return t(ce,{props:{player:e,sharePlayer:n}})}});i.$mount(),e.extendControl().addChild(i.$el)}))}},{key:"bindEvents",value:function(){var e=this,t=this.player,r=t.textTrackDisplay.contentEl(),n=0;t.on("player-resize",(function(t,i){var a=i.mainPlayerWidth,o=e.getFontSizeByWidth(a);o!==n&&(0!==n&&Object(re["c"])(r,"font-"+n),n=o,Object(re["a"])(r,"font-"+o))}))}},{key:"getFontSizeByWidth",value:function(e){return e<=1e3?16:16+Math.round(.016*(e-1e3))}}]),t}(oe);h["default"].registerPlugin("captions",se);var ce={mixins:[I["a"],H["a"],d["a"],q["a"]],components:{VjsPopMenu:V["a"]},data:function(){return{currentCaptions:null}},computed:ie({selectedItem:function(){var e=this;return this.menuItems.find((function(t){return t.val===e.currentCaptions}))},menuItems:function(){var e=[];return this.ccUrl&&e.push({val:"cc",text:this.$t("cc_transcript")}),this.transcriptUrl&&e.push({val:"audio",text:this.$t("audio_transcript")}),e.length&&e.unshift({val:null,text:this.$t("no_transcript")}),e},hasPopup:function(){return this.menuItems.length>2},captionsAriaLabel:function(){return this.hasPopup?"Subtitles/closed captions":null!==this.currentCaptions?"Hide Subtitles/closed captions":"Show Subtitles/closed captions"}},Object(f["e"])(["ccUrl","transcriptUrl"])),render:function(){var e=arguments[0];return e("div",{class:this.getCaptionsClass(),directives:[{name:"show",value:this.menuItems.length}]},[e("button",{class:"vjs-captions-control-button vjs-control",on:{click:this.onControlClick,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,keydown:this.onMyKeyDown},attrs:{"aria-haspopup":this.hasPopup,"aria-label":this.captionsAriaLabel,"aria-expanded":this.getMyExpandState(),"aria-activedescendant":this.activedescendant,"aria-controls":this.getMyMenuId()}},[e("span",{attrs:{"arial-hidden":"true"},class:"vjs-icon-placeholder"})]),e("vjs-pop-menu",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,"menu-items":this.menuItems,"selected-item":this.selectedItem,"hover-index":this.hoverIndex},ref:"popMenu",on:{selected:this.handleCommand,hide:this.resetHoverIndex}}),e("vjs-pop-title",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,title:this.getTitle()},ref:"popTitle"})])},mounted:function(){this.currentCaptions=this.ccUrl?"cc":null},methods:{getCaptionsClass:function(){var e=["vjs-captions-control"];return null!==this.currentCaptions&&e.push("use-transcript"),e.join(" ")},getMyExpandState:function(){return!!this.hasPopup&&this.getExpandState()},getMyMenuId:function(){return!!this.hasPopup&&this.getMenuId()},onMyKeyDown:function(e){if(!this.hasPopup){var t=e.keyCode,r=E["a"].keys;if(t!==r.space)return}this.onKeyDown(e)},onControlClick:function(){this.menuItems.length>2?(this.$refs.popMenu.show(),this.$refs.popTitle.hide()):null===this.currentCaptions?this.currentCaptions=this.menuItems[1].val:this.currentCaptions=this.menuItems[0].val},handleCommand:function(e){this.currentCaptions=e.val},getTitle:function(){return this.menuItems.length>2?this.$t("subtitle"):null===this.currentCaptions?this.$t("show_subtitle"):this.$t("hide_subtitle")},closeCaptions:function(){for(var e=this.player.textTracks(),t=0;t<e.length;t++){var r=e[t];"captions"===r.kind&&(r.mode="hidden")}},openCaptions:function(e){for(var t=this.player.textTracks(),r=0;r<t.length;r++){var n=t[r];"captions"===n.kind&&(n.mode="hidden","cc"===e&&"cc_track"===n.id?n.mode="showing":"audio"===e&&"transcript_track"===n.id&&(n.mode="showing"))}}},watch:{currentCaptions:{immediate:!0,handler:function(e){null===e?this.closeCaptions():this.openCaptions(e)}}}},le=r("20d7"),ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"zm-fade-in"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"},{name:"clickoutside",rawName:"v-clickoutside",value:e.handleOutsideClick,expression:"handleOutsideClick"}],staticClass:"vjs-context-menu",on:{contextmenu:function(e){e.preventDefault()}}},[e.reference?e._e():r("div",{ref:"reference",staticClass:"reference",style:e.referenceStyl}),r("ul",{directives:[{name:"uid",rawName:"v-uid",value:"vjs-context-menu",expression:"'vjs-context-menu'"}],ref:"list",staticClass:"list",attrs:{role:"menu"}},e._l(e.commands,(function(t,n){return r("li",{directives:[{name:"uid",rawName:"v-uid",value:"vjs-context-menu-item",expression:"'vjs-context-menu-item'"}],key:t.action,ref:"item",refInFor:!0,class:{"is-hover":e.hoverIndex===n},attrs:{role:"menuitem"},on:{click:function(r){return e.onItemClick(t)},mousedown:function(e){e.stopPropagation()}}},[r("span",[e._v(e._s(t.text))])])})),0)])])},he=[],pe=[];function fe(e){pe.push(e),ye(e)}function de(e){pe.splice(pe.indexOf(e),1)}function ye(e){e.$on("show",(function(){pe.forEach((function(t){t!==e&&t.hide()}))}))}var ve=r("b617");function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ge={name:"vjs-context-menu",mixins:[b["a"]],directives:{Clickoutside:m["a"],Uid:ve["a"]},props:{pos:Object,reference:String,commands:Array,player:Object,hoverIndex:Number},computed:{referenceStyl:function(){return{left:this.pos.x?this.pos.x+"px":"50%",top:this.pos.y?this.pos.y+"px":"50%"}}},inject:["menu"],mounted:function(){this.reference?(this.popperElm=this.$el,this.referenceElm=this.$parent.$refs[this.reference]):(this.popperElm=this.$refs.list,this.referenceElm=this.$refs.reference);for(var e=this.$refs.item,t=0;t<e.length;t++)this.menu.options.push(e[t]);fe(this)},beforeDestroy:function(){de(this)},methods:me({show:function(){this.showPopper||(this.showPopper=!0,this.$emit("show"))},hide:function(){this.showPopper&&(this.showPopper=!1,this.$emit("hide"))},handleOutsideClick:function(){this.hide()},onItemClick:function(e){this.hide(),this.$emit("command",e)}},Object(f["d"])({setPopMenuShow:"SET_POP_MENU_SHOW"})),watch:{pos:function(){this.updatePopper()},showPopper:function(e){this.setPopMenuShow(e)}}},je=ge,Oe=(r("8ea0"),Object(k["a"])(je,ue,he,!1,null,"3fbe9509",null)),Pe=Oe.exports,we=window.Vue,ke=h["default"].getPlugin("plugin"),Me=function(e){function t(e,r){var n;return Object(o["a"])(this,t),n=Object(c["a"])(this,Object(l["a"])(t).call(this,e,r)),n.sharePlayer=r.sharePlayer,p["a"].state.hasPermissionEdit&&n.createContextMenu(e),n}return Object(u["a"])(t,e),Object(s["a"])(t,[{key:"createContextMenu",value:function(e){var t=this;Object(B["a"])().then((function(r){var n=t.sharePlayer,i=new we({i18n:r,store:p["a"],render:function(t){return t(Ce,{props:{player:e,sharePlayer:n}})}});i.$mount(),e.contentEl().appendChild(i.$el),t.contextMenuComp=i}))}}]),t}(ke);h["default"].registerPlugin("contextMenu",Me);var Ce={mixins:[I["a"],d["a"],le["a"]],components:{VjsContextMenu:Pe},data:function(){return{pos:{x:0,y:0},modifiers:{preventOverflow:{boundariesElement:this.player.contentEl(),padding:5},computeStyle:{gpuAcceleration:!1}},commands:[{text:this.$t("add_chapter"),action:"add-chapter"}],options:[]}},provide:function(){return{menu:this}},render:function(e){return e(Pe,{props:{placement:"bottom-start",modifiers:this.modifiers,pos:this.pos,player:this.activePlayer,commands:this.commands,appendToBody:!1,hoverIndex:this.hoverIndex},ref:"contextMenu",on:{command:this.handleCommand,hide:this.resetHoverIndex}})},mounted:function(){this.focusPlayerEl(),this.initAria(),this.bindEvents()},methods:{initAria:function(){var e=this.player,t=this.sharePlayer,r=e.contentEl().querySelector(".vjs-tech"),n="Video Player, press Shift+F10 for more options";if(r.setAttribute("aria-label",n),r.setAttribute("aria-haspopup",!0),r.setAttribute("aria-controls",this.getMenuId()),r.setAttribute("aria-expanded",!!this.isMenuVisible()),t){var i=t.contentEl().querySelector(".vjs-tech");i.setAttribute("aria-label",n),i.setAttribute("aria-haspopup",!0),i.setAttribute("aria-controls",this.getMenuId()),i.setAttribute("aria-expanded",!!this.isMenuVisible())}},getMenuId:function(){return this.$refs.contextMenu?this.$refs.contextMenu.$refs.list.id:null},bindEvents:function(){var e=this,t=this.player,r=this.sharePlayer,n=t.contentEl().querySelector(".vjs-tech");if(n.addEventListener("contextmenu",(function(r){r.preventDefault(),(t.isFullscreen()||e.activePlayer===t)&&e.showContextMenu(r)})),n.addEventListener("keydown",(function(r){(t.isFullscreen()||e.activePlayer===t)&&e.onKeyDown(r)})),r){var i=r.contentEl().querySelector(".vjs-tech");i.addEventListener("contextmenu",(function(t){t.preventDefault(),e.showContextMenu(t)})),i.addEventListener("keydown",(function(t){e.onKeyDown(t)}))}var a=t.controlBar.contentEl();a.addEventListener("contextmenu",(function(e){e.preventDefault()}))},focusPlayerEl:function(){this.updateAriaAttr("tabindex",0)},showContextMenu:function(e){this.pos={x:e.offsetX,y:e.offsetY},this.$refs.contextMenu.show(),this.updateAriaAttr("aria-expanded",!0)},updateAriaAttr:function(e,t,r){var n=this.player,i=this.sharePlayer,a=n.contentEl().querySelector(".vjs-tech");if(a.setAttribute(e,t),!t&&r&&a.removeAttribute(e),i){var o=i.contentEl().querySelector(".vjs-tech");o.setAttribute(e,t),!t&&r&&o.removeAttribute(e)}},hideContextMenu:function(){this.$refs.contextMenu.hide(),this.updateAriaAttr("aria-expanded",!1)},onKeyDown:function(e){var t=e.keyCode,r=E["a"].keys;if(e.shiftKey&&121===t)this.showContextMenu(e);else switch(t){case r.enter:if(this.isMenuVisible()){var n=this.commands[this.hoverIndex];n&&(this.handleCommand(n),this.hideContextMenu())}e.preventDefault();break;case r.space:case r.tab:this.hideContextMenu();break;case r.esc:this.hideContextMenu(),e.preventDefault();break;case r.down:this.isMenuVisible()&&this.navigateOptions("next"),e.preventDefault();break;case r.up:this.isMenuVisible()&&this.navigateOptions("prev"),e.preventDefault();break;case r.home:this.isMenuVisible()&&this.navigateOptions("home"),e.preventDefault();break;case r.end:this.isMenuVisible()&&this.navigateOptions("end"),e.preventDefault();break}},isMenuVisible:function(){return this.$refs.contextMenu&&this.$refs.contextMenu.showPopper},handleCommand:function(e){this.player.trigger(e.action)}},watch:{activedescendant:function(e){this.updateAriaAttr("aria-activedescendant",e,!0)},activePlayer:function(){var e=this.player,t=this.sharePlayer,r=e.contentEl().querySelector(".vjs-tech"),n=t.contentEl().querySelector(".vjs-tech");this.activePlayer===t?(n.setAttribute("tabindex",0),r.setAttribute("tabindex",-1),document.activeElement===r&&n.focus()):(r.setAttribute("tabindex",0),n.setAttribute("tabindex",-1),document.activeElement===n&&r.focus())}}};function Se(){this.__data__=[],this.size=0}var xe=Se;function _e(e,t){return e===t||e!==e&&t!==t}var Ee=_e;function Te(e,t){var r=e.length;while(r--)if(Ee(e[r][0],t))return r;return-1}var $e=Te,De=Array.prototype,Ae=De.splice;function Ie(e){var t=this.__data__,r=$e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Ae.call(t,r,1),--this.size,!0}var Be=Ie;function We(e){var t=this.__data__,r=$e(t,e);return r<0?void 0:t[r][1]}var Re=We;function Le(e){return $e(this.__data__,e)>-1}var Ue=Le;function ze(e,t){var r=this.__data__,n=$e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Fe=ze;function Ve(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}Ve.prototype.clear=xe,Ve.prototype["delete"]=Be,Ve.prototype.get=Re,Ve.prototype.has=Ue,Ve.prototype.set=Fe;var He=Ve;function qe(){this.__data__=new He,this.size=0}var Ne=qe;function Ke(e){var t=this.__data__,r=t["delete"](e);return this.size=t.size,r}var Ge=Ke;function Je(e){return this.__data__.get(e)}var Xe=Je;function Qe(e){return this.__data__.has(e)}var Ye=Qe,Ze=r("26ee"),et=Ze["a"].Symbol,tt=et,rt=Object.prototype,nt=rt.hasOwnProperty,it=rt.toString,at=tt?tt.toStringTag:void 0;function ot(e){var t=nt.call(e,at),r=e[at];try{e[at]=void 0;var n=!0}catch(a){}var i=it.call(e);return n&&(t?e[at]=r:delete e[at]),i}var st=ot,ct=Object.prototype,lt=ct.toString;function ut(e){return lt.call(e)}var ht=ut,pt="[object Null]",ft="[object Undefined]",dt=tt?tt.toStringTag:void 0;function yt(e){return null==e?void 0===e?ft:pt:dt&&dt in Object(e)?st(e):ht(e)}var vt=yt;function bt(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var mt=bt,gt="[object AsyncFunction]",jt="[object Function]",Ot="[object GeneratorFunction]",Pt="[object Proxy]";function wt(e){if(!mt(e))return!1;var t=vt(e);return t==jt||t==Ot||t==gt||t==Pt}var kt=wt,Mt=Ze["a"]["__core-js_shared__"],Ct=Mt,St=function(){var e=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xt(e){return!!St&&St in e}var _t=xt,Et=Function.prototype,Tt=Et.toString;function $t(e){if(null!=e){try{return Tt.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Dt=$t,At=/[\\^$.*+?()[\]{}|]/g,It=/^\[object .+?Constructor\]$/,Bt=Function.prototype,Wt=Object.prototype,Rt=Bt.toString,Lt=Wt.hasOwnProperty,Ut=RegExp("^"+Rt.call(Lt).replace(At,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zt(e){if(!mt(e)||_t(e))return!1;var t=kt(e)?Ut:It;return t.test(Dt(e))}var Ft=zt;function Vt(e,t){return null==e?void 0:e[t]}var Ht=Vt;function qt(e,t){var r=Ht(e,t);return Ft(r)?r:void 0}var Nt=qt,Kt=Nt(Ze["a"],"Map"),Gt=Kt,Jt=Nt(Object,"create"),Xt=Jt;function Qt(){this.__data__=Xt?Xt(null):{},this.size=0}var Yt=Qt;function Zt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var er=Zt,tr="__lodash_hash_undefined__",rr=Object.prototype,nr=rr.hasOwnProperty;function ir(e){var t=this.__data__;if(Xt){var r=t[e];return r===tr?void 0:r}return nr.call(t,e)?t[e]:void 0}var ar=ir,or=Object.prototype,sr=or.hasOwnProperty;function cr(e){var t=this.__data__;return Xt?void 0!==t[e]:sr.call(t,e)}var lr=cr,ur="__lodash_hash_undefined__";function hr(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Xt&&void 0===t?ur:t,this}var pr=hr;function fr(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}fr.prototype.clear=Yt,fr.prototype["delete"]=er,fr.prototype.get=ar,fr.prototype.has=lr,fr.prototype.set=pr;var dr=fr;function yr(){this.size=0,this.__data__={hash:new dr,map:new(Gt||He),string:new dr}}var vr=yr;function br(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var mr=br;function gr(e,t){var r=e.__data__;return mr(t)?r["string"==typeof t?"string":"hash"]:r.map}var jr=gr;function Or(e){var t=jr(this,e)["delete"](e);return this.size-=t?1:0,t}var Pr=Or;function wr(e){return jr(this,e).get(e)}var kr=wr;function Mr(e){return jr(this,e).has(e)}var Cr=Mr;function Sr(e,t){var r=jr(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var xr=Sr;function _r(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}_r.prototype.clear=vr,_r.prototype["delete"]=Pr,_r.prototype.get=kr,_r.prototype.has=Cr,_r.prototype.set=xr;var Er=_r,Tr=200;function $r(e,t){var r=this.__data__;if(r instanceof He){var n=r.__data__;if(!Gt||n.length<Tr-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Er(n)}return r.set(e,t),this.size=r.size,this}var Dr=$r;function Ar(e){var t=this.__data__=new He(e);this.size=t.size}Ar.prototype.clear=Ne,Ar.prototype["delete"]=Ge,Ar.prototype.get=Xe,Ar.prototype.has=Ye,Ar.prototype.set=Dr;var Ir=Ar;function Br(e,t){var r=-1,n=null==e?0:e.length;while(++r<n)if(!1===t(e[r],r,e))break;return e}var Wr=Br,Rr=function(){try{var e=Nt(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Lr=Rr;function Ur(e,t,r){"__proto__"==t&&Lr?Lr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var zr=Ur,Fr=Object.prototype,Vr=Fr.hasOwnProperty;function Hr(e,t,r){var n=e[t];Vr.call(e,t)&&Ee(n,r)&&(void 0!==r||t in e)||zr(e,t,r)}var qr=Hr;function Nr(e,t,r,n){var i=!r;r||(r={});var a=-1,o=t.length;while(++a<o){var s=t[a],c=n?n(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),i?zr(r,s,c):qr(r,s,c)}return r}var Kr=Nr;function Gr(e,t){var r=-1,n=Array(e);while(++r<e)n[r]=t(r);return n}var Jr=Gr;function Xr(e){return null!=e&&"object"==typeof e}var Qr=Xr,Yr="[object Arguments]";function Zr(e){return Qr(e)&&vt(e)==Yr}var en=Zr,tn=Object.prototype,rn=tn.hasOwnProperty,nn=tn.propertyIsEnumerable,an=en(function(){return arguments}())?en:function(e){return Qr(e)&&rn.call(e,"callee")&&!nn.call(e,"callee")},on=an,sn=Array.isArray,cn=sn,ln=r("58e0"),un=9007199254740991,hn=/^(?:0|[1-9]\d*)$/;function pn(e,t){var r=typeof e;return t=null==t?un:t,!!t&&("number"==r||"symbol"!=r&&hn.test(e))&&e>-1&&e%1==0&&e<t}var fn=pn,dn=9007199254740991;function yn(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=dn}var vn=yn,bn="[object Arguments]",mn="[object Array]",gn="[object Boolean]",jn="[object Date]",On="[object Error]",Pn="[object Function]",wn="[object Map]",kn="[object Number]",Mn="[object Object]",Cn="[object RegExp]",Sn="[object Set]",xn="[object String]",_n="[object WeakMap]",En="[object ArrayBuffer]",Tn="[object DataView]",$n="[object Float32Array]",Dn="[object Float64Array]",An="[object Int8Array]",In="[object Int16Array]",Bn="[object Int32Array]",Wn="[object Uint8Array]",Rn="[object Uint8ClampedArray]",Ln="[object Uint16Array]",Un="[object Uint32Array]",zn={};function Fn(e){return Qr(e)&&vn(e.length)&&!!zn[vt(e)]}zn[$n]=zn[Dn]=zn[An]=zn[In]=zn[Bn]=zn[Wn]=zn[Rn]=zn[Ln]=zn[Un]=!0,zn[bn]=zn[mn]=zn[En]=zn[gn]=zn[Tn]=zn[jn]=zn[On]=zn[Pn]=zn[wn]=zn[kn]=zn[Mn]=zn[Cn]=zn[Sn]=zn[xn]=zn[_n]=!1;var Vn=Fn;function Hn(e){return function(t){return e(t)}}var qn=Hn,Nn=r("c6eb"),Kn=Nn["a"]&&Nn["a"].isTypedArray,Gn=Kn?qn(Kn):Vn,Jn=Gn,Xn=Object.prototype,Qn=Xn.hasOwnProperty;function Yn(e,t){var r=cn(e),n=!r&&on(e),i=!r&&!n&&Object(ln["a"])(e),a=!r&&!n&&!i&&Jn(e),o=r||n||i||a,s=o?Jr(e.length,String):[],c=s.length;for(var l in e)!t&&!Qn.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||fn(l,c))||s.push(l);return s}var Zn=Yn,ei=Object.prototype;function ti(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||ei;return e===r}var ri=ti;function ni(e,t){return function(r){return e(t(r))}}var ii=ni,ai=ii(Object.keys,Object),oi=ai,si=Object.prototype,ci=si.hasOwnProperty;function li(e){if(!ri(e))return oi(e);var t=[];for(var r in Object(e))ci.call(e,r)&&"constructor"!=r&&t.push(r);return t}var ui=li;function hi(e){return null!=e&&vn(e.length)&&!kt(e)}var pi=hi;function fi(e){return pi(e)?Zn(e):ui(e)}var di=fi;function yi(e,t){return e&&Kr(t,di(t),e)}var vi=yi;function bi(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}var mi=bi,gi=Object.prototype,ji=gi.hasOwnProperty;function Oi(e){if(!mt(e))return mi(e);var t=ri(e),r=[];for(var n in e)("constructor"!=n||!t&&ji.call(e,n))&&r.push(n);return r}var Pi=Oi;function wi(e){return pi(e)?Zn(e,!0):Pi(e)}var ki=wi;function Mi(e,t){return e&&Kr(t,ki(t),e)}var Ci=Mi,Si=r("dff1");function xi(e,t){var r=-1,n=e.length;t||(t=Array(n));while(++r<n)t[r]=e[r];return t}var _i=xi;function Ei(e,t){var r=-1,n=null==e?0:e.length,i=0,a=[];while(++r<n){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}var Ti=Ei;function $i(){return[]}var Di=$i,Ai=Object.prototype,Ii=Ai.propertyIsEnumerable,Bi=Object.getOwnPropertySymbols,Wi=Bi?function(e){return null==e?[]:(e=Object(e),Ti(Bi(e),(function(t){return Ii.call(e,t)})))}:Di,Ri=Wi;function Li(e,t){return Kr(e,Ri(e),t)}var Ui=Li;function zi(e,t){var r=-1,n=t.length,i=e.length;while(++r<n)e[i+r]=t[r];return e}var Fi=zi,Vi=ii(Object.getPrototypeOf,Object),Hi=Vi,qi=Object.getOwnPropertySymbols,Ni=qi?function(e){var t=[];while(e)Fi(t,Ri(e)),e=Hi(e);return t}:Di,Ki=Ni;function Gi(e,t){return Kr(e,Ki(e),t)}var Ji=Gi;function Xi(e,t,r){var n=t(e);return cn(e)?n:Fi(n,r(e))}var Qi=Xi;function Yi(e){return Qi(e,di,Ri)}var Zi=Yi;function ea(e){return Qi(e,ki,Ki)}var ta=ea,ra=Nt(Ze["a"],"DataView"),na=ra,ia=Nt(Ze["a"],"Promise"),aa=ia,oa=Nt(Ze["a"],"Set"),sa=oa,ca=Nt(Ze["a"],"WeakMap"),la=ca,ua="[object Map]",ha="[object Object]",pa="[object Promise]",fa="[object Set]",da="[object WeakMap]",ya="[object DataView]",va=Dt(na),ba=Dt(Gt),ma=Dt(aa),ga=Dt(sa),ja=Dt(la),Oa=vt;(na&&Oa(new na(new ArrayBuffer(1)))!=ya||Gt&&Oa(new Gt)!=ua||aa&&Oa(aa.resolve())!=pa||sa&&Oa(new sa)!=fa||la&&Oa(new la)!=da)&&(Oa=function(e){var t=vt(e),r=t==ha?e.constructor:void 0,n=r?Dt(r):"";if(n)switch(n){case va:return ya;case ba:return ua;case ma:return pa;case ga:return fa;case ja:return da}return t});var Pa=Oa,wa=Object.prototype,ka=wa.hasOwnProperty;function Ma(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&ka.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Ca=Ma,Sa=Ze["a"].Uint8Array,xa=Sa;function _a(e){var t=new e.constructor(e.byteLength);return new xa(t).set(new xa(e)),t}var Ea=_a;function Ta(e,t){var r=t?Ea(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var $a=Ta,Da=/\w*$/;function Aa(e){var t=new e.constructor(e.source,Da.exec(e));return t.lastIndex=e.lastIndex,t}var Ia=Aa,Ba=tt?tt.prototype:void 0,Wa=Ba?Ba.valueOf:void 0;function Ra(e){return Wa?Object(Wa.call(e)):{}}var La=Ra;function Ua(e,t){var r=t?Ea(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var za=Ua,Fa="[object Boolean]",Va="[object Date]",Ha="[object Map]",qa="[object Number]",Na="[object RegExp]",Ka="[object Set]",Ga="[object String]",Ja="[object Symbol]",Xa="[object ArrayBuffer]",Qa="[object DataView]",Ya="[object Float32Array]",Za="[object Float64Array]",eo="[object Int8Array]",to="[object Int16Array]",ro="[object Int32Array]",no="[object Uint8Array]",io="[object Uint8ClampedArray]",ao="[object Uint16Array]",oo="[object Uint32Array]";function so(e,t,r){var n=e.constructor;switch(t){case Xa:return Ea(e);case Fa:case Va:return new n(+e);case Qa:return $a(e,r);case Ya:case Za:case eo:case to:case ro:case no:case io:case ao:case oo:return za(e,r);case Ha:return new n;case qa:case Ga:return new n(e);case Na:return Ia(e);case Ka:return new n;case Ja:return La(e)}}var co=so,lo=Object.create,uo=function(){function e(){}return function(t){if(!mt(t))return{};if(lo)return lo(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),ho=uo;function po(e){return"function"!=typeof e.constructor||ri(e)?{}:ho(Hi(e))}var fo=po,yo="[object Map]";function vo(e){return Qr(e)&&Pa(e)==yo}var bo=vo,mo=Nn["a"]&&Nn["a"].isMap,go=mo?qn(mo):bo,jo=go,Oo="[object Set]";function Po(e){return Qr(e)&&Pa(e)==Oo}var wo=Po,ko=Nn["a"]&&Nn["a"].isSet,Mo=ko?qn(ko):wo,Co=Mo,So=1,xo=2,_o=4,Eo="[object Arguments]",To="[object Array]",$o="[object Boolean]",Do="[object Date]",Ao="[object Error]",Io="[object Function]",Bo="[object GeneratorFunction]",Wo="[object Map]",Ro="[object Number]",Lo="[object Object]",Uo="[object RegExp]",zo="[object Set]",Fo="[object String]",Vo="[object Symbol]",Ho="[object WeakMap]",qo="[object ArrayBuffer]",No="[object DataView]",Ko="[object Float32Array]",Go="[object Float64Array]",Jo="[object Int8Array]",Xo="[object Int16Array]",Qo="[object Int32Array]",Yo="[object Uint8Array]",Zo="[object Uint8ClampedArray]",es="[object Uint16Array]",ts="[object Uint32Array]",rs={};function ns(e,t,r,n,i,a){var o,s=t&So,c=t&xo,l=t&_o;if(r&&(o=i?r(e,n,i,a):r(e)),void 0!==o)return o;if(!mt(e))return e;var u=cn(e);if(u){if(o=Ca(e),!s)return _i(e,o)}else{var h=Pa(e),p=h==Io||h==Bo;if(Object(ln["a"])(e))return Object(Si["a"])(e,s);if(h==Lo||h==Eo||p&&!i){if(o=c||p?{}:fo(e),!s)return c?Ji(e,Ci(o,e)):Ui(e,vi(o,e))}else{if(!rs[h])return i?e:{};o=co(e,h,s)}}a||(a=new Ir);var f=a.get(e);if(f)return f;a.set(e,o),Co(e)?e.forEach((function(n){o.add(ns(n,t,r,n,e,a))})):jo(e)&&e.forEach((function(n,i){o.set(i,ns(n,t,r,i,e,a))}));var d=l?c?ta:Zi:c?keysIn:di,y=u?void 0:d(e);return Wr(y||e,(function(n,i){y&&(i=n,n=e[i]),qr(o,i,ns(n,t,r,i,e,a))})),o}rs[Eo]=rs[To]=rs[qo]=rs[No]=rs[$o]=rs[Do]=rs[Ko]=rs[Go]=rs[Jo]=rs[Xo]=rs[Qo]=rs[Wo]=rs[Ro]=rs[Lo]=rs[Uo]=rs[zo]=rs[Fo]=rs[Vo]=rs[Yo]=rs[Zo]=rs[es]=rs[ts]=!0,rs[Ao]=rs[Io]=rs[Ho]=!1;var is=ns,as=1,os=4;function ss(e){return is(e,as|os)}var cs=ss,ls=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("zm-dialog",{staticClass:"chapter-editor",attrs:{visible:e.visible,title:e.$t("edit_chapter"),width:"500px","append-to-body":""},on:{"update:visible":function(t){e.visible=t}}},[r("zm-input",{attrs:{type:"textarea",autosize:"",maxlength:150},model:{value:e.section.content,callback:function(t){e.$set(e.section,"content",t)},expression:"section.content"}}),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("zm-button",{staticClass:"btn-delete",attrs:{type:"danger",loading:e.deleteLoading},on:{click:e.deleteSection}},[e._v("\n      "+e._s(e.$t("delete"))+"\n    ")]),r("zm-button",{attrs:{type:"primary",loading:e.saveLoading,disabled:!e.section.content||!e.section.content.trim()},on:{click:e.saveSection}},[e._v("\n      "+e._s(e.$t("save"))+"\n    ")]),r("zm-button",{on:{click:e.cancel}},[e._v("\n      "+e._s(e.$t("cancel"))+"\n    ")])],1)],1)},us=[];function hs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ps(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hs(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fs={name:"chapter-editor",props:{sections:Array,section:Object},data:function(){return{visible:!1,saveLoading:!1,deleteLoading:!1}},methods:ps({show:function(){var e=this;this.visible=!0,this.$nextTick((function(){e.originContent=e.section.content}))},hide:function(){this.visible=!1},deleteSection:function(){var e=this;this.sections.splice(this.sections.indexOf(this.section),1),this.deleteLoading=!0,this.updateChapterSections(this.sections).then((function(){e.deleteLoading=!1,e.$message.success(e.$t("remove_chapter_marker")),e.hide()})).catch((function(){e.deleteLoading=!1,e.cancel()}))},saveSection:function(){var e=this;this.saveLoading=!0,this.updateChapterSections(this.sections).then((function(){e.saveLoading=!1,e.$message.success(e.$t("update_chapter_marker")),e.hide()})).catch((function(){e.saveLoading=!1,e.cancel()}))},cancel:function(){this.section.content=this.originContent,this.hide()}},Object(f["b"])(["updateChapterSections"]))},ds=fs,ys=(r("e64e"),Object(k["a"])(ds,ls,us,!1,null,"bbce0ca2",null)),vs=ys.exports;function bs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bs(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var gs={name:"vjs-chapter-marker",mixins:[d["a"],_,le["a"]],components:{VjsContextMenu:Pe},props:{section:Object,player:Object,activePlayer:Object},data:function(){return{offset:"0, 11px",commands:[{text:this.$t("edit_chapter"),action:"edit-chapter"},{text:this.$t("remove_chapter"),action:"remove-chapter"}],options:[]}},computed:ms({duration:function(){return this.player.duration()},ariaLabel:function(){return this.section.content+","+Object(T["a"])(this.section.startTime-this.offsetStart)}},Object(f["e"])(["offsetStart","hasPermissionEdit"])),provide:function(){return{menu:this}},render:function(){var e=arguments[0];return e("div",{class:"vjs-chapter-marker",style:this.getMarkerStyl(this.section)},[e("span",{class:"vjs-chapter-marker-button",attrs:{role:"button","aria-haspopup":this.hasPermissionEdit,"aria-label":this.ariaLabel,"aria-expanded":this.getExpandState(),"aria-activedescendant":this.activedescendant,"aria-controls":this.getMenuId(),tabIndex:0},on:{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,contextmenu:this.onContextMenu,keydown:this.onKeyDown,focus:this.onFocus},ref:"button"}),e("vjs-pop-marker",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,content:this.section.content,time:this.section.startTime-this.offsetStart,reference:"button"},ref:"popMarker"}),e("vjs-context-menu",{attrs:{placement:"bottom-start",offset:"0,10px",modifiers:this.modifiers,"append-to-body":!1,player:this.activePlayer,reference:"button",commands:this.commands,"hover-index":this.hoverIndex},ref:"contextMenu",on:{command:this.handleCommand,hide:this.resetHoverIndex}})])},methods:{onContextMenu:function(e){e.stopPropagation(),e.preventDefault(),this.conditionShowContextMenu()},conditionShowContextMenu:function(){this.hasPermissionEdit&&(this.hidePopMarker(),this.showContextMenu())},getExpandState:function(){var e=this.$refs.contextMenu;return e?String(e.showPopper):"false"},getMenuId:function(){return this.$refs.contextMenu?this.$refs.contextMenu.$refs.list.id:null},onKeyDown:function(e){var t=e.keyCode,r=E["a"].keys;if(e.shiftKey&&121===t)this.conditionShowContextMenu();else{switch(t){case r.enter:if(this.isMenuVisible()){var n=this.commands[this.hoverIndex];n&&(this.$emit("command",n.action,this.section),this.hideContextMenu())}else this.changeToCurrent();e.preventDefault();break;case r.space:this.isMenuVisible()||this.changeToCurrent(),e.preventDefault();break;case r.tab:this.hidePopMarker(),this.hideContextMenu();break;case r.esc:this.hidePopMarker(),this.hideContextMenu(),e.preventDefault();break;case r.down:this.isMenuVisible()&&this.navigateOptions("next"),e.preventDefault();break;case r.up:this.isMenuVisible()&&this.navigateOptions("prev"),e.preventDefault();break;case r.home:this.isMenuVisible()&&this.navigateOptions("home"),e.preventDefault();break;case r.end:this.isMenuVisible()&&this.navigateOptions("end"),e.preventDefault();break}e.stopPropagation()}},changeToCurrent:function(){Object(T["b"])("Position moved to Chapter Marker "+Object(T["a"])(this.section.startTime-this.offsetStart)),this.player.realCurrentTime(this.section.startTime)},showContextMenu:function(){this.$refs.contextMenu&&this.$refs.contextMenu.show()},hideContextMenu:function(){this.$refs.contextMenu&&this.$refs.contextMenu.hide()},isMenuVisible:function(){return this.$refs.contextMenu&&this.$refs.contextMenu.showPopper},handleCommand:function(e){this.$emit("command",e.action,this.section)}}};function js(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Os(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?js(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):js(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ps=window.Vue,ws=h["default"].getPlugin("plugin"),ks=24,Ms=function(e){function t(e,r){var n;return Object(o["a"])(this,t),n=Object(c["a"])(this,Object(l["a"])(t).call(this,e,r)),n.sharePlayer=r.sharePlayer,n.createMarker(e),n}return Object(u["a"])(t,e),Object(s["a"])(t,[{key:"createMarker",value:function(e){var t=this.sharePlayer;Object(B["a"])().then((function(r){var n=new Ps({i18n:r,store:p["a"],render:function(r){return r(Cs,{props:{player:e,sharePlayer:t}})}});n.$mount(),e.controlBar.progressControl.contentEl().appendChild(n.$el)}))}}]),t}(ws);h["default"].registerPlugin("chapterMarker",Ms);var Cs={mixins:[I["a"]],components:{ChapterEditor:vs,VjsChapterMarker:gs},data:function(){return{editSection:{}}},computed:Os({duration:function(){return this.player.duration()},clonedSections:function(){return cs(this.chapterSections)}},Object(f["e"])(["offsetStart","chapterSections"])),render:function(){var e=arguments[0];return e("div",{class:"vjs-chapter-markers-bar"},[this.renderMakers(),e("div",[e("chapter-editor",{attrs:{section:this.editSection,sections:this.clonedSections},ref:"editor"})])])},mounted:function(){this.player.on("add-chapter",this.addChapter)},methods:Os({renderMakers:function(){var e=this,t=this.$createElement;return this.clonedSections.filter((function(t){var r=t.startTime-e.offsetStart;return!(r<0||r>e.duration)})).map((function(r,n){return t("vjs-chapter-marker",{attrs:{section:r,player:e.player,"active-player":e.activePlayer},key:r.startTime+"/"+n,on:{command:e.handleCommand}})}))},handleCommand:function(e,t){"edit-chapter"===e?(this.editSection=t,this.exitFullscreen(),this.$refs.editor.show()):"remove-chapter"===e&&this.removeChapter(t)},exitFullscreen:function(){var e=this.player,t=this.sharePlayer;e.isFullscreen()?e.exitFullscreen():t&&t.isFullscreen()&&t.exitFullscreen()},removeChapter:function(e){var t=this;this.clonedSections.splice(this.clonedSections.indexOf(e),1),this.updateChapterSections(this.clonedSections).then((function(){t.$message.success(t.$t("remove_chapter_marker"))}))},addChapter:function(){var e=this,t=this.clonedSections.length;if(t>=ks)return this.exitFullscreen(),void this.$message.warning(this.$t("add_tips"));var r=this.$t("auto_title",[t+1]),n=this.player.realCurrentTime();this.clonedSections.push({content:r,startTime:n}),this.updateChapterSections(this.clonedSections).then((function(){e.$message.success(e.$t("add_chapter_marker")),Object(T["b"])("Chapter Marker added at "+Object(g["d"])(e.player.currentTime()))}))}},Object(f["b"])(["updateChapterSections"]))};r("a9ee"),r("72c2"),r("6661"),r("ef2d"),r("7f7f");function Ss(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ss(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ss(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _s={name:"vjs-polling-marker",mixins:[d["a"],_],props:{poll:Object,player:Object,activePlayer:Object},data:function(){return{offset:"0, 11px"}},computed:xs({duration:function(){return this.player.duration()},ariaLabel:function(){return"Poll Result "+this.poll.name+","+Object(T["a"])(this.poll.shareTimeInRecording-this.offsetStart)}},Object(f["e"])(["offsetStart"])),render:function(){var e=arguments[0];return e("div",{class:"vjs-polling-marker",style:this.getMarkerStyl(this.poll)},[e("span",{class:"vjs-polling-marker-button",attrs:{role:"button","aria-label":this.ariaLabel,tabIndex:0},on:{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,keydown:this.onKeyDown,focus:this.onFocus,mousedown:this.onMouseDown},ref:"button"}),e("vjs-pop-marker",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,content:this.poll.name,time:this.poll.shareTimeInRecording-this.offsetStart,reference:"button"},ref:"popMarker"})])},methods:{onMouseDown:function(e){this.handleManual(),e.preventDefault(),e.stopPropagation()},onKeyDown:function(e){var t=e.keyCode,r=E["a"].keys;t===r.enter||t===r.space?(this.handleManual(),e.preventDefault()):t!==r.tab&&t!==r.esc||(this.hidePopMarker(),t===r.esc&&e.preventDefault()),e.stopPropagation()},handleManual:function(){this.$emit("manual",this.poll)},getMarkerStyl:function(e){var t=parseInt((e.shareTimeInRecording-this.offsetStart)/this.duration*1e4)/100;return{left:t+"%"}}}},Es=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.poll?r("zm-dialog",{staticClass:"poll-dialog",attrs:{title:e.poll.name,visible:e.visible,"append-to-body":"",width:"560px","aria-describedby":"pollsDesc"},on:{"update:visible":function(t){e.visible=t}}},[r("div",{staticClass:"polling-question",attrs:{id:"pollsDesc"}},e._l(e.poll.questions,(function(e,t){return r("poll-question-item",{key:e.questionId,attrs:{question:e,index:t}})})),1),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("zm-button",{attrs:{plain:""},on:{click:e.hide}},[e._v("\n      "+e._s(this.$t("close"))+"\n    ")])],1)]):e._e()},Ts=[],$s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"poll-question-item"},[r("h4",[r("span",{staticClass:"mgr-xs"},[e._v(e._s(e.questionIndex))]),r("span",{staticClass:"polling-question-title"},[e._v(e._s(e.questionTitle))])]),e._l(e.question.optionsList,(function(t){return r("poll-option-item",{key:t.optionId,attrs:{option:t,question:e.question}})}))],2)},Ds=[],As=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"option-container"},[r("div",{staticClass:"option-des"},[r("span",[e._v(e._s(e.option.option))]),r("span",{staticClass:"option-statistics"},[e._v(e._s(e.optionStatistics))])]),r("zm-progress",{attrs:{color:e.color,percentage:e.optionPercentage,"stroke-width":4,"show-text":!1}})],1)},Is=[],Bs={name:"poll-option-item",props:{question:Object,option:Object},computed:{optionStatistics:function(){return"".concat(this.option.votePercent,"%")},optionPercentage:function(){return parseInt(this.option.votePercent)},color:function(){return this.question.voteMostNum===this.option.result?"#FF742E":"#0E71EB"}}},Ws=Bs,Rs=(r("a3df"),Object(k["a"])(Ws,As,Is,!1,null,"01fa5e49",null)),Ls=Rs.exports,Us={name:"poll-question-item",components:{PollOptionItem:Ls},props:{question:Object,index:Number},computed:{questionIndex:function(){return"#".concat(this.index+1,".")},questionTitle:function(){return"".concat(this.question.name," (").concat(this.question.type?this.$t("multiple_choice"):this.$t("single_choice"),")")}}},zs=Us,Fs=(r("99cc"),Object(k["a"])(zs,$s,Ds,!1,null,"bff80a48",null)),Vs=Fs.exports,Hs={name:"poll-dialog",components:{PollQuestionItem:Vs},data:function(){return{visible:!1,poll:null}},methods:{show:function(e){this.poll!==e&&(this.poll=e),this.visible=!0},hide:function(){this.visible=!1}}},qs=Hs,Ns=(r("c7d0"),Object(k["a"])(qs,Es,Ts,!1,null,null,null)),Ks=Ns.exports;function Gs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gs(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xs=window.Vue,Qs=h["default"].getPlugin("plugin"),Ys=function(e){function t(e,r){var n;Object(o["a"])(this,t),n=Object(c["a"])(this,Object(l["a"])(t).call(this,e,r));var i=p["a"].getters.hasPoll;return i?(n.sharePlayer=r.sharePlayer,n.getAndCreateMarker(e),n):Object(c["a"])(n)}return Object(u["a"])(t,e),Object(s["a"])(t,[{key:"getAndCreateMarker",value:function(e){var t=p["a"].state.polls;this.createMarker(t,e),this.createPollingControlComp(t,e)}},{key:"createMarker",value:function(e,t){var r=this.sharePlayer;Object(B["a"])().then((function(n){var i=new Xs({i18n:n,store:p["a"],render:function(n){return n(Zs,{props:{player:t,sharePlayer:r,polls:e}})}});i.$mount(),t.controlBar.progressControl.contentEl().appendChild(i.$el)}))}},{key:"createPollingControlComp",value:function(e,t){var r=this.sharePlayer;Object(B["a"])().then((function(n){var i=new Xs({store:p["a"],i18n:n,render:function(n){return n(ec,{props:{player:t,sharePlayer:r,polls:e}})}});i.$mount(),t.speed().insertAfter(i.$el)}))}}]),t}(Qs);h["default"].registerPlugin("pollResult",Ys);var Zs={mixins:[I["a"]],components:{VjsPollingMarker:_s,pollDialog:Ks},props:{polls:{type:Array,default:function(){return[]}}},data:function(){return{currentTime:0}},computed:Js({duration:function(){return this.player.duration()},filterPolls:function(){var e=this;return this.polls.filter((function(t){var r=t.shareTimeInRecording-e.offsetStart;return!(r<=0||r>e.duration)}))}},Object(f["e"])(["offsetStart","pollShow"])),render:function(){var e=arguments[0];return e("div",{directives:[{name:"show",value:this.pollShow}],class:"vjs-polling-markers-bar"},[this.renderMakers(),e("div",[e("poll-dialog",{ref:"pollDialog"})])])},mounted:function(){var e=this;this.player.on("timeupdate",(function(){var t=parseInt(e.player.currentTime());e.currentTime!==t&&(e.currentTime=t)}))},methods:{renderMakers:function(){var e=this,t=this.$createElement;return this.filterPolls.map((function(r,n){return t("vjs-polling-marker",{attrs:{poll:r,player:e.player,"active-player":e.activePlayer},key:r.shareTimeInRecording+"/"+n,on:{manual:e.handleManual}})}))},handleManual:function(e){var t=this.player;!t.paused()&&t.pause(),this.showPollDialog(e)},showPollDialog:function(e){this.$refs.pollDialog.show(e)}},watch:{currentTime:function(e){var t=this;if(this.pollShow&&!this.player.paused()){var r=this.filterPolls.find((function(r){return e+t.offsetStart===r.shareTimeInRecording}));r&&this.showPollDialog(r)}}}},ec={mixins:[I["a"],H["a"],d["a"]],props:{polls:{type:Array,default:function(){return[]}}},computed:Js({wrapperCls:function(){var e=["vjs-polling-control"];return this.pollShow?e.push("hide-poll"):e.push("show-poll"),e.join(" ")},controlText:function(){return this.pollShow?"Hide Poll Result":"Show Poll Result"},duration:function(){return this.player.duration()},pollShowBtn:function(){var e=this;return this.polls.filter((function(t){var r=t.shareTimeInRecording-e.offsetStart;return!(r<=0||r>e.duration)})).length}},Object(f["e"])(["offsetStart","pollShow"])),render:function(){var e=arguments[0];return e("div",{directives:[{name:"show",value:this.pollShowBtn}],class:this.wrapperCls},[e("button",{class:"vjs-polling-control-button vjs-control",attrs:{"aria-label":this.controlText},on:{click:this.onControlClick,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave}},[e("span",{attrs:{"arial-hidden":"true"},class:"vjs-icon-placeholder"})]),e("vjs-pop-title",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,title:this.getTitle()},ref:"popTitle"})])},methods:Js({onControlClick:function(){this.pollShow?this.setPollShow(!1):this.setPollShow(!0)},getTitle:function(){return this.pollShow?this.$t("hide_poll"):this.$t("show_poll")}},Object(f["d"])({setPollShow:"SET_POLL_SHOW"}))};function tc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tc(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var nc={name:"vjs-highlight-bar",mixins:[d["a"],_],props:{highlight:Object,player:Object,activePlayer:Object},data:function(){return{offset:"0, 11px"}},computed:rc({duration:function(){return this.player.duration()}},Object(f["e"])(["offsetStart"])),render:function(){var e=arguments[0];return e("div",{class:"vjs-highlight-bar",style:this.getMarkerStyl(this.highlight)},[e("span",{class:"vjs-highlight-bar-span",on:{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave},ref:"span"}),e("vjs-pop-marker",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,content:"Highlights",time:parseInt(this.highlight.startTime-this.offsetStart),reference:"span"},ref:"popMarker"})])},methods:{getMarkerStyl:function(e){var t=e.startTimeMs,r=e.endTimeMs,n=1e3*this.duration,i=1e3*this.offsetStart,a=parseInt((t-i)/n*1e4)/100,o=parseInt((r-t)/n*1e4)/100;return{width:o+"%",left:a+"%"}}}},ic=r("5b8d"),ac=r("365c");function oc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var cc=window.Vue,lc=h["default"].getPlugin("plugin"),uc=function(e){function t(e,r){var n;Object(o["a"])(this,t),n=Object(c["a"])(this,Object(l["a"])(t).call(this,e,r));var i=p["a"].state.enableHighlight,a=p["a"].state.hasPermissionEdit,s=!p["a"].getters.computedHighlights.length;return!i||!a&&s?Object(c["a"])(n):(n.sharePlayer=r.sharePlayer,n.createHighlightsBar(e),n.createHighlightsControlComp(e),n)}return Object(u["a"])(t,e),Object(s["a"])(t,[{key:"createHighlightsBar",value:function(e){var t=this.sharePlayer;Object(B["a"])().then((function(r){var n=new cc({i18n:r,store:p["a"],render:function(r){return r(hc,{props:{player:e,sharePlayer:t}})}});n.$mount(),e.controlBar.progressControl.contentEl().appendChild(n.$el)}))}},{key:"createHighlightsControlComp",value:function(e){var t=this.sharePlayer;Object(B["a"])().then((function(r){var n=new cc({store:p["a"],i18n:r,render:function(r){return r(pc,{props:{player:e,sharePlayer:t}})}});n.$mount(),e.extendControl().addChild(n.$el)}))}},{key:"createHighlightsSettingComp",value:function(e){var t=this;Object(B["a"])().then((function(r){var n=new cc({store:p["a"],i18n:r,render:function(t){return t(fc,{props:{player:e},on:{hide:this.onSettingHide},ref:"comp"})},methods:{show:function(){this.$refs.comp.show()},hide:function(){this.$refs.comp.hide()},onSettingHide:function(){e.controlBar.show(),this.$emit("hide")}}});n.$mount(),e.contentEl().appendChild(n.$el),t.highlightsSettingComp=n}))}},{key:"createAdjustHLControlComp",value:function(e){var t=this.sharePlayer;Object(B["a"])().then((function(r){var n=new cc({store:p["a"],i18n:r,render:function(r){return r(dc,{props:{player:e,sharePlayer:t}})}});n.$mount(),e.speed().insertBefore(n.$el)}))}}]),t}(lc);h["default"].registerPlugin("highlights",uc);var hc={mixins:[I["a"]],components:{VjsHighlightBar:nc},computed:sc({},Object(f["c"])({highlights:"computedHighlights"})),render:function(){var e=arguments[0];return e("div",{class:"vjs-highlights-bar"},[this.renderBars()])},methods:{renderBars:function(){var e=this,t=this.$createElement;return this.highlights.map((function(r,n){return t("vjs-highlight-bar",{attrs:{highlight:r,player:e.player,"active-player":e.activePlayer},key:r.startTimeMs+"/"+n})}))}}},pc={mixins:[I["a"],H["a"],d["a"]],computed:sc({wrapperCls:function(){var e=["vjs-highlights-control"];return this.highlightsMode?e.push("play-full"):e.push("play-higlights"),e.join(" ")},controlText:function(){return this.highlightsMode?"Play Full Video":"Play Highlights"},showBtn:function(){return this.highlights.length}},Object(f["e"])(["highlightsMode"]),{},Object(f["c"])({highlights:"computedHighlights"})),mounted:function(){var e=this;this.player.on("timeupdate",(function(){if(e.highlightsMode){var t=1*e.player.realCurrentTime().toFixed(3);e.checkPlaybackSegments(t)}}))},render:function(){var e=arguments[0];return e("div",{directives:[{name:"show",value:this.showBtn}],class:this.wrapperCls},[e("button",{class:"vjs-highlights-control-button vjs-control",attrs:{"aria-label":this.controlText},on:{click:this.onControlClick,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave}},[e("span",{attrs:{"arial-hidden":"true"},class:"vjs-icon-placeholder"})]),e("vjs-pop-title",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,title:this.getTitle()},ref:"popTitle"})])},methods:sc({onControlClick:function(){this.highlightsMode?(this.setHighlightsMode(!1),this.playFull()):(this.setHighlightsMode(!0),this.playHighlights())},getTitle:function(){return this.highlightsMode?this.$t("play_full"):this.$t("play_highlights")},playHighlights:function(){var e=this.player,t=this.highlights[0].startTime;e.pause(),e.realCurrentTime(t),e.controlBar.progressControl.addClass("highlights-mode"),Object(ac["e"])({html_object_id:"recordingPlayerHighlightMode",html_object_category:"Recording",html_class:""}).catch((function(){}))},playFull:function(){var e=this.player;e.pause(),e.controlBar.progressControl.removeClass("highlights-mode")},checkPlaybackSegments:function(e){var t=this.player,r=JSON.parse(JSON.stringify(this.highlights)),n=r.length;if(n>0){var i=r[0].startTime,a=r[n-1].endTime;if(e<i)t.realCurrentTime(i);else if(e>=a)t.realCurrentTime(i),t.pause();else for(var o=0;o<n;o++){var s=r[o],c=r[o+1];if(e>=s.startTime&&e<=s.endTime)return;if(e>s.endTime&&e<c.startTime)return void t.realCurrentTime(c.startTime)}}}},Object(f["d"])({setHighlightsMode:"SET_HIGHLIGHTS_MODE"}))},fc={props:{player:Object},data:function(){return{isPlaying:!1,visible:!1,saving:!1}},computed:sc({btnCls:function(){var e=["vjs-play-button"];return e.push(this.isPlaying?"vjs-playing":"vjs-paused"),e.join(" ")},controlText:function(){return this.isPlaying?"Pause":"Play"}},Object(f["e"])(["highlightsMode"]),{},Object(f["c"])({highlights:"computedHighlights"})),render:function(){var e=arguments[0];return e("div",{directives:[{name:"show",value:this.visible}],class:"vjs-highlights-setting-mask"},[e("div",{class:"vjs-highlights-setting"},[e("div",{class:"header"},[e("button",{class:this.btnCls,attrs:{"aria-label":this.controlText},on:{click:this.togglePlay}},[e("span",{attrs:{"arial-hidden":"true"},class:"vjs-icon-placeholder"})])]),e("div",{class:"center"}),e("div",{class:"footer vjs-highlights-actions"},[e("zm-button",{attrs:{type:"primary",size:"small",loading:this.saving},on:{click:this.save}},[this.$t("done")]),e("zm-button",{class:"mgl-xs",attrs:{size:"small"},on:{click:this.cancel}},[this.$t("cancel")])])])])},mounted:function(){var e=this,t=this.player;t.on(["play","pause"],(function(){e.isPlaying=!t.paused()}))},methods:sc({show:function(){this.visible=!0},hide:function(){this.visible=!1,this.$emit("hide")},togglePlay:function(){var e=this.player,t=this.isPlaying;t?e.pause():e.play()},save:function(){console.log("save")},cancel:function(){this.hide()}},Object(f["d"])({setHighlightsMode:"SET_HIGHLIGHTS_MODE"}))},dc={mixins:[I["a"]],computed:sc({showBtn:function(){return this.highlightsMode}},Object(f["e"])(["highlightsMode"])),render:function(){var e=arguments[0];return e("div",{directives:[{name:"show",value:this.showBtn}],class:"vjs-adjust-highlights-control"},[e("button",{class:"vjs-adjust-highlights-button vjs-control",on:{click:this.onControlClick}},[this.$t("adjust_highlights")])])},methods:{onControlClick:function(){this.showSetting()},showSetting:function(){var e=this.player,t=e.highlights().highlightsSettingComp;function r(e){var r=e.keyCode,n=E["a"].keys;r===n.esc&&(t.hide(),e.preventDefault())}t.show(),window.addEventListener("keydown",r),this.$nextTick((function(){var n=new ic["a"](t.$el,document.activeElement);t.$once("hide",(function(){window.removeEventListener("keydown",r),n.closeDialog()})),e.pause(),e.controlBar.hide()}))},onKeyDown:function(e){var t=e.keyCode,r=E["a"].keys;t===r.space&&(e.preventDefault(),e.stopPropagation(),this.onControlClick())}}},yc=function(e,t){return yc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},yc(e,t)};function vc(e,t){function r(){this.constructor=e}yc(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var bc=function(){function e(){this.events={}}return e.prototype.on=function(e,t,r){void 0===r&&(r=this),this.events[e]||(this.events[e]=[]),this.events[e].push([t,r])},e.prototype.once=function(e,t,r){var n=this;void 0===r&&(r=this);var i=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];n.off(e,i),t.apply(r,a)};i.fn=t,this.on(e,i)},e.prototype.off=function(e,t){if(e||t){if(e){if(!t)return void(this.events[e]=[]);var r=this.events[e];if(!r)return;var n=r.length;while(n--)(r[n][0]===t||r[n][0]&&r[n][0].fn===t)&&r.splice(n,1)}}else this.events={}},e.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=this.events[e];if(n)for(var i=n.length,a=n.slice(),o=0;o<i;o++){var s=a[o],c=s[0],l=s[1];c&&c.apply(l,t)}},e.prototype.dispose=function(){this.events={}},e}();function mc(e){0}function gc(e,t,r){return t<=r&&(e>=t&&e<=r)}function jc(e){return void 0!==e&&null!==e&&"function"===typeof e.then}function Oc(e){jc(e)&&e.then(null,(function(){}))}var Pc=5e3,wc=2,kc=.3,Mc=1e3,Cc=1e3,Sc=1,xc=4,_c=.5,Ec=-.5,Tc=.25,$c=.05,Dc=-.05,Ac="players-ready",Ic="master-play",Bc="master-pause",Wc="master-rate-changes",Rc="master-ended",Lc="master-time-update",Uc="buffering",zc="buffered-and-auto-play",Fc="buffered-not-auto-play",Vc="synchronizing",Hc=function(e){function t(t,r){var n=e.call(this)||this;return n.masterPlayer=t,n.syncPlayers=r,n.readyPlayers={},n.loadedPlayers={},n.isBuffering=!1,n.hitPauseWhileBuffering=!1,n.ignoreNextPause=!1,n.playWhenBuffered=!1,n.bufferCheckerSet=!1,n.lastSync=0,n.players=[n.masterPlayer].concat(n.syncPlayers),n.initState(),n.bindMethods(),n.registerEvents(),n}return vc(t,e),t.prototype.playMaster=function(){this.allPlayersLoaded()&&this.play(this.masterPlayer)},t.prototype.pauseMaster=function(){this.allPlayersLoaded()&&this.pause(this.masterPlayer)},t.prototype.setCurrentTime=function(e){this.allPlayersLoaded()&&this.masterPlayer.currentTime(e)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.clearMasterPlayerEvent(),this.readyPlayers={},this.loadedPlayers={}},t.prototype.initState=function(){var e=this;this.players.forEach((function(t){var r=t.id();e.readyPlayers[r]=!1,e.loadedPlayers[r]=!1}))},t.prototype.bindMethods=function(){var e=this,t=["onMasterPlay","onMasterPause","onMasterRateChange","onMasterEnded","onMasterTimeUpdate","checkBuffer"];t.forEach((function(t){e[t]=e[t].bind(e)}))},t.prototype.registerEvents=function(){var e=this;this.waitAllPlayersReady((function(){e.registerMasterPlayerEvent(),e.trigger(Ac)}))},t.prototype.waitAllPlayersReady=function(e){var t=this;this.players.forEach((function(r){r.ready((function(){var n=r.id();t.readyPlayers[n]=!0,t.waitDataLoaded(r,(function(){t.loadedPlayers[n]=!0,t.allPlayersLoaded()&&e()}))}))}))},t.prototype.waitDataLoaded=function(e,t){var r=!1,n=setTimeout((function(){r=!0,t()}),Pc);e.one("loadeddata",(function(){clearTimeout(n),r||t()}))},t.prototype.registerMasterPlayerEvent=function(){this.masterPlayer.on("play",this.onMasterPlay),this.masterPlayer.on("pause",this.onMasterPause),this.masterPlayer.on("ratechange",this.onMasterRateChange),this.masterPlayer.on("ended",this.onMasterEnded),this.masterPlayer.on("timeupdate",this.onMasterTimeUpdate)},t.prototype.clearMasterPlayerEvent=function(){this.masterPlayer.off("play",this.onMasterPlay),this.masterPlayer.off("pause",this.onMasterPause),this.masterPlayer.off("ratechange",this.onMasterRateChange),this.masterPlayer.off("ended",this.onMasterEnded),this.masterPlayer.off("timeupdate",this.onMasterTimeUpdate)},t.prototype.onMasterPlay=function(){mc("Master player received 'play' event"),this.hitPauseWhileBuffering=!1,this.setBufferChecker(),this.playSyncPlayers(),this.trigger(Ic,this.masterPlayer.currentTime())},t.prototype.onMasterPause=function(){mc("Master player received 'pause' event"),this.hitPauseWhileBuffering=!this.ignoreNextPause,this.ignoreNextPause=!1,this.trigger(Bc,this.masterPlayer.currentTime())},t.prototype.onMasterRateChange=function(){mc("Master player received 'ratechange' event");var e=this.masterPlayer.playbackRate();this.setSyncPlayersPlayRate(e),this.trigger(Wc,e)},t.prototype.onMasterEnded=function(){mc("Master player received 'ended' event"),this.hitPauseWhileBuffering=!0,this.pauseAll(!1),this.synchronize(),this.trigger(Rc,this.masterPlayer.duration())},t.prototype.onMasterTimeUpdate=function(){mc("Master player received 'timeupdate' event"),this.hitPauseWhileBuffering=this.hitPauseWhileBuffering||!this.masterPlayer.paused(),(Date.now()-this.lastSync>=Cc||this.masterPlayer.paused())&&this.synchronize(),this.trigger(Lc,this.masterPlayer.currentTime())},t.prototype.playSyncPlayers=function(){var e=this;this.syncPlayers.forEach((function(t){e.play(t),e.mute(t)}))},t.prototype.setSyncPlayersPlayRate=function(e){this.syncPlayers.forEach((function(t){t.playbackRate(e)}))},t.prototype.synchronize=function(){var e=this;this.lastSync=Date.now(),this.syncPlayers.forEach((function(t){var r=!1,n=e.masterPlayer.paused(),i=e.getSyncDelay(t);if(n)r=!0;else{var a=t.playbackRate(),o=e.masterPlayer.playbackRate();if(i>$c||i<Dc){if(Math.abs(i)<xc){var s=o;i>0?(s+=Ec,mc('[synchronize] Decreasing playback rate of player "'+t.id()+'" from '+a+" to "+s)):(s+=_c,mc('[synchronize] Increasing playback rate of player "'+t.id()+'" from '+a+" to "+s)),t.playbackRate(s)}else t.playbackRate(o),r=!0;e.trigger(Vc,[e.masterPlayer,t])}else t.playbackRate(o),mc('[synchronize] Playing player "'+t.id()+'"'),e.play(t)}if(r){var c=e.masterPlayer.currentTime(),l=n?c:c+Tc;mc('[synchronize] Seeking player "'+t.id()+'": '+l),t.currentTime(l),n?(e.pause(t),mc('[synchronize] Pause player "'+t.id()+'" after seeking')):(e.play(t),mc('[synchronize] Playing player "'+t.id()+'" after seeking')),e.trigger(Vc,[e.masterPlayer,t])}}))},t.prototype.getSyncDelay=function(e){var t=this.masterPlayer.currentTime(),r=e.currentTime();return-1===t||-1===r||gc(r,t-Sc,t)?0:r-t},t.prototype.setBufferChecker=function(){this.bufferCheckerSet||(this.bufferCheckerSet=!0,window.clearTimeout(this.checkTimer),this.checkTimer=window.setTimeout(this.checkBuffer,Mc))},t.prototype.checkBuffer=function(){var e=!0;this.players.some((function(t){for(var r=t.buffered(),n=t.duration(),i=Math.min(t.currentTime()+wc,n),a=!1,o=0;o<r.length&&!a;o++){var s=r.start(o),c=r.end(o)+kc;gc(i,s,c)&&(a=!0)}if(e=e&&a,!e)return!0})),this.isBuffering=!e,e?this.playWhenBuffered&&!this.hitPauseWhileBuffering?(this.playWhenBuffered=!1,this.play(this.masterPlayer),this.trigger(zc)):this.playWhenBuffered&&(this.playWhenBuffered=!1,this.trigger(Fc)):(this.playWhenBuffered=!0,this.ignoreNextPause=!0,this.pauseAll(!0),mc("[checkBuffer] buffering"),this.trigger(Uc)),this.checkTimer=window.setTimeout(this.checkBuffer,Mc)},t.prototype.allPlayersLoaded=function(){var e=this;return Object.keys(this.loadedPlayers).every((function(t){return e.loadedPlayers[t]}))},t.prototype.allPlayersReady=function(){var e=this;return Object.keys(this.readyPlayers).every((function(t){return e.readyPlayers[t]}))},t.prototype.pauseAll=function(e){var t=this;this.players.forEach((function(r){(e&&r===t.masterPlayer||r!==t.masterPlayer)&&t.pause(r)}))},t.prototype.play=function(e){return!!e.paused()&&(this.allPlayersReady()?this.isBuffering?(mc("[play]  A player is currently buffering"),!1):(Oc(e.play()),!0):(mc("[play] Not all players are ready, yet"),!1))},t.prototype.pause=function(e){e.pause(),mc("[pause] Pausing Player "+e.id())},t.prototype.mute=function(e){e.volume(0),mc("[mute] Muting Player "+e.id())},t}(bc);function qc(e,t){return new Hc(e,t)}var Nc=qc,Kc=r("6503"),Gc=r("5729"),Jc=r("466a"),Xc=r("0a1f");function Qc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qc(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Zc={name:"video-player",mixins:[Jc["a"]],components:{Transcript:Gc["a"]},data:function(){return{viewWidth:"100%",viewHeight:"100%",shareWidth:"100%",shareHeight:"100%",panelRWidth:"100%",panelRPrevWidth:"",playerViewWrapperWidth:"100%",playerViewPreWrapperWidth:"",playerReady:!1,player:null}},computed:Yc({playerViewStyl:function(){return{width:this.viewWidth+"px",height:this.viewHeight+"px"}},playerShareStyl:function(){return{width:this.shareWidth+"px",height:this.shareHeight+"px"}},panelRStyl:function(){return{width:this.panelRWidth}},playerViewWrapperStyl:function(){return{width:this.playerViewWrapperWidth}},videoPlayerCls:function(){var e=[];return(this.hasTranscript||this.hasChat)&&e.push("has-transcript"),this.shareStart&&e.push("start-share"),(this.popMarkerShow||this.popMenuShow)&&e.push("has-pop-overlay"),e.join(" ")}},Object(f["e"])(["shareMp4Url","viewMp4Url","gallaryMp4Url","chapterUrl","ccUrl","transcriptUrl","shareResolvtionsWidth","shareResolvtionsHeight","viewResolvtionsWidth","viewResolvtionsHeight","playbackModel","autoPlay","popMarkerShow","popMenuShow","continueMode","nextClipStartTime","shareStart","speed"]),{},Object(f["c"])(["hasTranscript","hasChat"])),mounted:function(){this.createPlayer(),this.shareMp4Url&&(this.createSharePlayer(),Nc(this.player,[this.sharePlayer])),Object(Kc["a"])(this.$el,this.layout)},beforeDestroy:function(){var e=this.player,t=this.sharePlayer;e.off(),e.dispose(),t&&(t.off(),t.dispose()),Object(Kc["b"])(this.$el,this.layout)},methods:Yc({createPlayer:function(){var e=this,t="GV"===this.playbackModel&&this.gallaryMp4Url?this.gallaryMp4Url:this.viewMp4Url;this.player=Object(h["default"])(this.$refs.player,{controls:!0,preload:"auto",autoplay:this.autoPlay,bigPlayButton:!1,language:B["b"],sources:{src:t,type:"video/mp4"},controlBar:{currentTimeDisplay:!1,durationDisplay:!1,remainingTimeDisplay:!1,captionsButton:!1,textTrackSettings:!1,subtitlesButton:!1,descriptionsButton:!1,chaptersButton:!1,liveDisplay:!1,timeDivider:!1,playbackRateMenuButton:!1,audioTrackButton:!1,customControlSpacer:!1,fullscreenToggle:!1,pictureInPictureToggle:!1,seekToLive:!1,subsCapsButton:!1},html5:{nativeTextTracks:!1}},(function(){var t=e.player,r=e.sharePlayer;t.one("loadeddata",(function(){e.reorderControlBar(),e.registerPlugins(),t.currentTime(0),t.on("fullscreenchange",(function(){setTimeout((function(){!t.isFullscreen()&&e.shareStart?(e.move(),t.trigger("player-resize",{mainPlayerWidth:r.contentEl().clientWidth})):(e.moveBack(),t.trigger("player-resize",{mainPlayerWidth:t.contentEl().clientWidth})),e.$forceUpdate()}),0)})),r&&r.on("fullscreenchange",(function(){setTimeout((function(){r.isFullscreen()||e.shareStart?(e.move(),t.trigger("player-resize",{mainPlayerWidth:r.contentEl().clientWidth})):(e.moveBack(),t.trigger("player-resize",{mainPlayerWidth:t.contentEl().clientWidth})),e.$forceUpdate()}),0)})),e.layout(),e.playerReady=!0})),t.on("share-start",(function(n,i){e.setShareStart(i),i?t.isFullscreen()||r.isFullscreen()||e.move():t.isFullscreen()||r.isFullscreen()||e.moveBack()})),t.one("suspend",(function(){0===t.currentTime()&&t.currentTime(.01)})),t.on("play",(function(){var r=e.speed;Xc["a"]&&1!==r&&t.playbackRate(r),e.setCheckInterval()})),t.on("pause",(function(){e.clearCheckInterval()})),t.on("ended",(function(){e.clearCheckInterval(),1===e.continueMode&&-1!==e.nextClipStartTime||(t.currentTime(0),t.pause())})),t.on("timeupdate",e.updateTime)}))},createSharePlayer:function(){var e=this;this.sharePlayer=Object(h["default"])(this.$refs.sharePlayer,{controls:!0,preload:"auto",autoplay:!1,sources:{src:this.shareMp4Url,type:"video/mp4"},bigPlayButton:!1,muted:!0,controlBar:!1,textTrackDisplay:!1},(function(){var t=e.player,r=e.sharePlayer;r.tech().on("mouseup",(function(e){0===e.button&&(t.paused()?t.play():t.pause())}))}))},reorderControlBar:function(){var e=this.player,t=e.controlBar.contentEl(),r=e.controlBar.progressControl.contentEl(),n=e.controlBar.playToggle.contentEl();t.insertBefore(r,n)},registerPlugins:function(){var e=this.player,t=this.sharePlayer,r=["multipleClip","timeRange","customTitle","fixAria","bigPlayButton","extendControl","speed","highlights","playbackRange","captions","playbackModel","fullscreenToggle","contextMenu","chapterMarker","shareMarker","pollResult"];r.forEach((function(r){e[r]({sharePlayer:t})}))},shouldShowSharePanel:function(){var e=this.sharePlayer,t=this.shareStart;return e&&e.isFullscreen()||t},layout:function(){this.shareStart&&this.sharePlayerLayout(),this.playerLayout(),this.player.trigger("player-resize",{mainPlayerWidth:this.shareStart?this.shareWidth:this.viewWidth})},playerLayout:function(){var e=this.$refs.playerViewWrapper,t=e.clientWidth,r=e.clientHeight,n=this.viewResolvtionsWidth,i=this.viewResolvtionsHeight;this.shareStart?(this.viewWidth=t,this.viewHeight=t*i/n):(this.viewHeight=Math.min(r,t*i/n),this.viewWidth=this.viewHeight*n/i)},sharePlayerLayout:function(){var e=this.$refs.playerShareWrapper,t=e.clientWidth,r=e.clientHeight,n=this.shareResolvtionsWidth,i=this.shareResolvtionsHeight;this.shareHeight=Math.min(r,t*i/n),this.shareWidth=this.shareHeight*n/i},onMouseDown:function(e){var t=this,r=this.player,n=e.clientX,i=this.$el.clientWidth,a=2*i/5,o=i/5,s=this.$refs.panelR.clientWidth,c=r.paused();c||r.pause(),this.onMouseMove=function(e){var r=e.clientX-n,c=s-r;t.layout(),t.panelRPrevWidth=Math.min(a,Math.max(c,o)),t.panelRWidth=t.panelRPrevWidth+"px",t.playerViewPreWrapperWidth="calc(".concat(100*(i-t.panelRPrevWidth)/i,"% - 20px)"),e.stopPropagation(),e.preventDefault()},this.onMouseUp=function(){c||r.play(),document.removeEventListener("mousemove",t.onMouseMove),document.removeEventListener("mouseup",t.onMouseUp)},document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove)},move:function(){var e=document.activeElement,t=this.player,r=this.sharePlayer,n=t.controlBar.contentEl(),i=r.contentEl();i.appendChild(n);var a=t.playbackRange().backRangeSettingComp;if(a){var o=a.$el;i.appendChild(o)}var s=t.textTrackDisplay.contentEl();i.appendChild(s);var c=t.contextMenu().contextMenuComp;if(c){var l=c.$el;i.appendChild(l)}var u=t.bigPlayButton().comp.$el;i.appendChild(u);var h=t.multipleClip().upcomingComp;if(h){var p=h.$el;i.appendChild(p)}this.$nextTick((function(){e.focus()}))},moveBack:function(){var e=document.activeElement,t=this.player,r=t.contentEl(),n=t.controlBar.contentEl();r.appendChild(n);var i=t.playbackRange().backRangeSettingComp;if(i){var a=i.$el;r.appendChild(a)}var o=t.textTrackDisplay.contentEl();r.appendChild(o);var s=t.contextMenu().contextMenuComp;if(s){var c=s.$el;r.appendChild(c)}var l=t.bigPlayButton().comp.$el;r.appendChild(l);var u=t.multipleClip().upcomingComp;if(u){var h=u.$el;r.appendChild(h)}this.$nextTick((function(){e.focus()}))}},Object(f["d"])({setShareStart:"SET_SHARE_START"})),watch:{shareStart:{immediate:!0,handler:function(e){this.panelRWidth=e?this.panelRPrevWidth?this.panelRPrevWidth+"px":"25%":"100%",this.playerViewWrapperWidth=e||!this.hasTranscript&&!this.hasChat?"100%":this.playerViewPreWrapperWidth?this.playerViewPreWrapperWidth:"calc(75% - 20px)",this.$nextTick(this.layout)}}}},el=Zc,tl=(r("3b93"),Object(k["a"])(el,n,i,!1,null,"b92f9648",null));t["default"]=tl.exports},4013:function(e,t,r){},"4a77":function(e,t,r){"use strict";var n=r("e561"),i=r.n(n);i.a},"58e0":function(e,t,r){"use strict";(function(e){var n=r("26ee"),i=r("2f74"),a="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a,c=s?n["a"].Buffer:void 0,l=c?c.isBuffer:void 0,u=l||i["a"];t["a"]=u}).call(this,r("dd40")(e))},"5c6d":function(e,t,r){},"5ea3":function(e,t,r){"use strict";(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t["a"]=r}).call(this,r("c8ba"))},"6bb6":function(e,t,r){},"8ea0":function(e,t,r){"use strict";var n=r("4013"),i=r.n(n);i.a},"99cc":function(e,t,r){"use strict";var n=r("dda6"),i=r.n(n);i.a},a3df:function(e,t,r){"use strict";var n=r("0551"),i=r.n(n);i.a},bab2:function(e,t,r){},c6eb:function(e,t,r){"use strict";(function(e){var n=r("5ea3"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o&&n["a"].process,c=function(){try{var e=a&&a.require&&a.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();t["a"]=c}).call(this,r("dd40")(e))},c7d0:function(e,t,r){"use strict";var n=r("5c6d"),i=r.n(n);i.a},dd40:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},dda6:function(e,t,r){},dff1:function(e,t,r){"use strict";(function(e){var n=r("26ee"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n["a"].Buffer:void 0,c=s?s.allocUnsafe:void 0;function l(e,t){if(t)return e.slice();var r=e.length,n=c?c(r):new e.constructor(r);return e.copy(n),n}t["a"]=l}).call(this,r("dd40")(e))},e561:function(e,t,r){},e64e:function(e,t,r){"use strict";var n=r("6bb6"),i=r.n(n);i.a}}]);